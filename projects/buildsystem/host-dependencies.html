<!DOCTYPE html>
<!--
     SPDX-License-Identifier: CC-BY-SA-4.0
     SPDX-FileCopyrightText: 2020 seL4 Project a Series of LF Projects, LLC.
-->
<!-- Page last generated 2023-02-08 03:18:05 +0000 -->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Host Dependencies | seL4 docs</title>

    <!-- Our stylesheet and theme stylesheet.  Contains bootstrap. -->
    <link rel="stylesheet" href="/assets/css/style.css" type="text/css">
    <!-- Font awesome -->
    <link href="https://use.fontawesome.com/releases/v5.0.8/css/all.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <!-- Pygments syntax highlighting  -->
    <link rel="stylesheet" href="/assets/css/highlighting/trac.css" type="text/css">
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117737473-2"></script>
<script>
  if((window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
    window['ga-disable-UA-117737473-2'] = true;
  }
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-117737473-2');
</script>
</head>

  <body class="container-fluid">

    



<header>
  <ul class="row menu">
    <li class="col-xs-12 col-md-2" >
            <a href="https://sel4.systems" class="skip-icon">
              <img class="img-responsive" src="/assets/logo-text-white.svg" alt="seL4 logo" />
            </a>
    </li>
    <li class="col-xs-12 col-md-10 menu">
      <nav aria-label="Banner links">
        <h2><a href="/GettingStarted">Getting Started</a></h2>
        <h2><a href="/processes">Contributing</a></h2>
        <h2><a href="/projects">Projects</a></h2>
        <h2><a href="/Tutorials">Tutorials</a></h2>
        <iframe title="DuckDuckGo search bar" src="https://duckduckgo.com/search.html?site=docs.sel4.systems&prefill=Search%20sel4.systems" style="overflow:hidden;margin-bottom:10px; padding:0;height:40px;float:right;border-width: 0px"></iframe>
      </nav>
    </li>
  </ul>
  <div class="clear"></div>
  
<div class="breadcrumbs bootstrap hidden-sm-down">
  <nav class="sel-breadcrumb" aria-label="Breadcrumb" >
    <ol class=" list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">
      
      
        

        

        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
            <a property="item" typeof="WebPage" href="/">
              <span property="name"><b>seL4 Docs</b></span>
            </a>
            <meta property="position" content="1" />
        </li>
      
        

        

        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
            <a property="item" typeof="WebPage" href="/projects/">
              <span property="name"><b>Projects</b></span>
            </a>
            <meta property="position" content="2" />
        </li>
      
        

        

        <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
            <a property="item" typeof="WebPage" href="/projects/buildsystem/">
              <span property="name"><b>System configuration and building</b></span>
            </a>
            <meta property="position" content="3" />
        </li>
      
        

        
          <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
            <span property="name">Host Dependencies</span>
            <meta property="position" content="4" /></li>
          
    </ol>
  </nav>
  <nav class="sel-version" aria-label="Current Versions">
    <ol class="list-unstyled">
      <li class="list-unstyled text-right" style="margin-left:auto; padding:0rem 0rem;">
        Current versions:</li>
      <li class="list-unstyled text-right">
      <a href="/releases/sel4/12.1.0"><b>seL4-12.1.0</b></a></li>
      <li class="list-unstyled text-right">
      <a href="/releases/camkes/camkes-3.10.0"><b>camkes-3.10.0</b></a></li>
      <li class="list-unstyled text-right">
      <a href="/releases/capdl/0.2.1"><b>CapDL-0.2.1</b></a></li>
    </ol>
  </nav>
  <nav class="sel-version">
    <ol class="list-unstyled">
      <li class="list-unstyled text-center">
      <a href="https://sel4.discourse.group/t/15-june-2021-release/373"><b>Announcing new releases: </b></a></li>
    </ol>
  </nav>
  <div class='clear'></div>
</div>


</header>

    <main>
      <div class="row">
  <div class="hidden-xs col-sm-4 col-md-3 col-lg-2">
    


<div class="sidebar">



      <ul class="nav nav-sidebar">
  
        <li class="">
          <a class="" href="/GettingStarted.html">
            Getting Started
          </a>
        </li>
  
        <li class="">
          <a class="" href="/projects/sel4/documentation.html">
            seL4 Documentation
          </a>
        </li>
  
        <li class="">
          <a class="" href="/projects/sel4/frequently-asked-questions.html">
            seL4 FAQ
          </a>
        </li>
  
        <li class="active">
          <a class="" href="/projects/buildsystem/host-dependencies.html">
            Set up your machine
          </a>
        </li>
  
        <li class="">
          <a class="" href="/Hardware/">
            Supported hardware
          </a>
        </li>
  
        <li class="">
          <a class="" href="/projects/available-user-components.html">
            Available components
          </a>
        </li>
  
        <li class="">
          <a class="" href="/projects/roadmap.html">
            Roadmap
          </a>
        </li>
  
        <li class="">
          <a class="" href="/CommunityProjects.html">
            Community projects
          </a>
        </li>
  
        <li class="">
          <a class="" href="/releases/sel4">
            Release Notes
          </a>
        </li>
  
        <li class="">
          <a class="" href="/projects/sel4/api-doc.html">
            libsel4 API
          </a>
        </li>
  
        <li class="">
          <a class="" href="https://sel4.systems/Info/Docs/seL4-manual-latest.pdf">
            Current Manual
          </a>
        </li>
  
        <li class="">
          <a class="" href="/projects/sel4/verified-configurations.html">
            Verified Configurations
          </a>
        </li>
  
      </ul>
















</div>


  </div>
  <div class="content col-sm-8 col-md-6 col-lg-7 main">
    <h1 id="host-dependencies">Host Dependencies</h1>

<p>This page describes how to set up your host machine to build and run seL4 and its supported projects. To compile and use seL4 you can either:</p>

<ul>
  <li><em>Recommended:</em> Use Docker to isolate the dependencies from your machine. Detailed instructions for using Docker for building seL4, Camkes, and L4v can be found <a href="/projects/dockerfiles/">here</a>.</li>
  <li>Install the following dependencies on your local OS</li>
</ul>

<p>The following instructions describe how to set up the required dependencies on your local OS. This page assumes you are building in a Linux OS. We however encourage site <a href="https://docs.sel4.systems/DocsContributing">contributions</a> for building in alternative OSes (e.g. macOS).</p>

<h2 id="get-googles-repo-tool">Get Google’s Repo tool</h2>

<p>The primary way of obtaining and managing seL4 project source is through the use of Google’s repo tool. To get repo, follow the instructions described in the section “Installing Repo” <a href="https://source.android.com/setup/develop#installing-repo">here</a>.</p>

<p>See the <a href="repo-cheatsheet">RepoCheatsheet</a> page for a quick explanation of how we use Repo.</p>

<h2 id="sel4-build-dependencies">seL4 Build Dependencies</h2>

<p>To build seL4-based projects, ensure you have installed the dependencies described in the <a href="#base-build-dependencies">Base Build Dependencies</a> and <a href="#python-dependencies">Python Dependencies</a> sections below.</p>

<h3 id="base-build-dependencies">Base Build Dependencies</h3>

<p>To establish a usable development environment it is important to install your distributions basic build packages.</p>

<h4 id="ubuntu">Ubuntu</h4>

<p>These instructions are intended for Ubuntu LTS versions 18.04, 20.04, and 22.04.</p>

<blockquote>
  <p><em>Note for Ubuntu 18.04: we require a minimum CMake version of 3.12.0 while Ubuntu 18.04 contains 3.10.2.  In order to correct this, a custom installation of CMake may be required which can be downloaded from: <a href="https://cmake.org/download/">https://cmake.org/download/</a></em></p>
</blockquote>

<blockquote>
  <p>As dependencies and packages may be frequently changed, deprecated or updated these instructions may become out of date. If you discover any missing dependencies and packages we welcome new <a href="https://docs.sel4.systems/DocsContributing">contributions</a> to the page.</p>
</blockquote>

<p><strong>Base dependencies</strong></p>

<p>The basic build package on Ubuntu is the <code class="highlighter-rouge">build-essential</code> package. To install run:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nb">install </span>build-essential
</code></pre></div></div>

<p>Additional base dependencies for building seL4 projects on Ubuntu include installing:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>cmake ccache ninja-build cmake-curses-gui
<span class="nb">sudo </span>apt-get <span class="nb">install </span>libxml2-utils ncurses-dev
<span class="nb">sudo </span>apt-get <span class="nb">install </span>curl git doxygen device-tree-compiler
<span class="nb">sudo </span>apt-get <span class="nb">install </span>u-boot-tools
</code></pre></div></div>

<p>For Ubuntu 18.04:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>python-dev python-pip python3-dev python3-pip
<span class="nb">sudo </span>apt-get <span class="nb">install </span>protobuf-compiler python-protobuf
<span class="nb">sudo </span>apt-get <span class="nb">install </span>gcc-8 g++-8
<span class="nb">sudo </span>update-alternatives <span class="nt">--install</span> /usr/bin/gcc gcc /usr/bin/gcc-8 800 <span class="nt">--slave</span> /usr/bin/g++ g++ /usr/bin/g++-8
</code></pre></div></div>

<p>For Ubuntu 20.04 and 22.04:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>python3-dev python3-pip python-is-python3
<span class="nb">sudo </span>apt-get <span class="nb">install </span>protobuf-compiler python3-protobuf
</code></pre></div></div>

<p><strong>Simulating with QEMU</strong></p>

<p>In order to run seL4 projects on a simulator you will need QEMU:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>qemu-system-arm qemu-system-x86 qemu-system-misc
</code></pre></div></div>

<p><strong>Cross-compiling for ARM targets</strong></p>

<p>To build for ARM targets you will need a cross compiler:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>gcc-arm-linux-gnueabi g++-arm-linux-gnueabi
<span class="nb">sudo </span>apt-get <span class="nb">install </span>gcc-aarch64-linux-gnu g++-aarch64-linux-gnu
</code></pre></div></div>

<p>(you can install the hardware floating point versions as well if you wish)</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>gcc-arm-linux-gnueabihf g++-arm-linux-gnueabihf
</code></pre></div></div>

<p><strong>Cross-compiling for RISC-V targets</strong></p>

<p>To build for RISC-V targets you will need a cross compiler:</p>

<ol>
  <li>
    <p>It is recommended to build the toolchain from source.</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> git clone https://github.com/riscv/riscv-gnu-toolchain.git
 <span class="nb">cd </span>riscv-gnu-toolchain
 git submodule update <span class="nt">--init</span> <span class="nt">--recursive</span>
 <span class="nb">export </span><span class="nv">RISCV</span><span class="o">=</span>/opt/riscv
 ./configure <span class="nt">--prefix</span><span class="o">=</span><span class="s2">"</span><span class="k">${</span><span class="nv">RISCV</span><span class="k">}</span><span class="s2">"</span> <span class="nt">--enable-multilib</span>
 make linux
</code></pre></div>    </div>

    <p>After it is built, add the <code class="highlighter-rouge">$RISCV/bin</code> folder to your PATH. The built
 toolchain works for both 32-bit and 64-bit.</p>
  </li>
  <li>
    <p>Alternatively, any pre-built toolchain with multilib enabled should work.</p>
  </li>
</ol>

<p><strong>Builidng the seL4 manual</strong></p>

<p>If you would like to build the seL4 manual, you will need the following LaTeX pacakges:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>texlive texlive-latex-extra texlive-fonts-extra
</code></pre></div></div>

<h4 id="debian">Debian</h4>

<h5 id="for-debian-stretch-or-later">For Debian Stretch or later</h5>

<p>The dependencies listed in our docker files <a href="https://github.com/seL4/seL4-CAmkES-L4v-dockerfiles">repository</a> will work for a Debian installation. You can refer to this repository for an up-to-date list of base build dependencies. Specifically refer to the dependencies listed in the:</p>

<ul>
  <li><a href="https://github.com/seL4/seL4-CAmkES-L4v-dockerfiles/blob/master/base_tools.dockerfile">Base Tools Dockerfile</a></li>
  <li><a href="https://github.com/seL4/seL4-CAmkES-L4v-dockerfiles/blob/master/sel4.dockerfile">seL4 Dockerfile</a></li>
  <li><a href="https://github.com/seL4/seL4-CAmkES-L4v-dockerfiles/blob/master/scripts/apply-tex.sh">LaTeX</a></li>
</ul>

<p>The version of <code class="highlighter-rouge">cmake</code> in Debian <em>stretch</em> is too old to build seL4 projects (<em>buster</em> and later are OK).  If you are on <em>stretch</em>, install <code class="highlighter-rouge">cmake</code> from stretch-backports:</p>

<p>Add the <em>stretch-backports</em> repository like this (substitute a local mirror for <code class="highlighter-rouge">ftp.debian.org</code> if you like)</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>sh <span class="nt">-c</span> <span class="s2">"echo 'deb http://ftp.debian.org/debian stretch-backports main' &gt; /etc/apt/sources.list.d/backports.list"</span>
</code></pre></div></div>

<p>Then install <code class="highlighter-rouge">cmake</code> with</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nt">-t</span> stretch-backports <span class="nb">install </span>cmake
</code></pre></div></div>

<h3 id="python-dependencies">Python Dependencies</h3>

<p>Regardless of your Linux distribution, python dependencies are required to build seL4, the manual and its proofs. To install you can run:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 <span class="nb">install</span> <span class="nt">--user</span> setuptools
pip3 <span class="nb">install</span> <span class="nt">--user</span> sel4-deps
<span class="c"># Currently we duplicate dependencies for python2 and python3 as a python3 upgrade is in process</span>
pip <span class="nb">install</span> <span class="nt">--user</span> setuptools
pip <span class="nb">install</span> <span class="nt">--user</span> sel4-deps
</code></pre></div></div>

<p>(Some distributions use <code class="highlighter-rouge">pip</code> for python3 and <code class="highlighter-rouge">pip2</code> for python2; others uses <code class="highlighter-rouge">pip</code> for python2 and <code class="highlighter-rouge">pip3</code> for python3.  Use the Python 3 version for your distribution)</p>

<h2 id="camkes-build-dependencies">CAmkES Build Dependencies</h2>

<p>To build a CAmkES based project on seL4, additional dependencies need to be installed on your host machine. Projects using CAmkES (the seL4 component system) need Haskell and some extra Python libraries in addition to the standard build tools. The following instructions cover the CAmkES build dependencies for Ubuntu/Debian. Please ensure you have installed the dependencies listed in sections <a href="#sel4-build-dependencies">seL4 Build Dependencies</a> and <a href="#get-googles-repo-tool">Get Google’s Repo tool</a> prior to building a CAmkES project.</p>

<h3 id="python-dependencies">Python Dependencies</h3>

<p>The Python dependencies required by the CAmkES build toolchain can be installed via pip:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 <span class="nb">install</span> <span class="nt">--user</span> camkes-deps
<span class="c"># Currently we duplicate dependencies for python2 and python3 as a python3 upgrade is in process</span>
pip <span class="nb">install</span> <span class="nt">--user</span> camkes-deps
</code></pre></div></div>

<h3 id="haskell-dependencies">Haskell Dependencies</h3>

<p>The CAmkES build toolchain additionally requires Haskell. You can install the <a href="https://haskellstack.org">Haskell stack</a> on your distribution by running:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -sSL https://get.haskellstack.org/ | sh
</code></pre></div></div>
<p>If you prefer not to bypass your distribution’s package manager, you can do</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install haskell-stack
</code></pre></div></div>

<h3 id="build-dependencies">Build Dependencies</h3>

<h4 id="ubuntu">Ubuntu</h4>

<p>These instructions are intended for Ubuntu LTS versions 18.04, 20.04, and 22.04.</p>

<p>Install the following packages:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>clang gdb
<span class="nb">sudo </span>apt-get <span class="nb">install </span>libssl-dev libclang-dev libcunit1-dev libsqlite3-dev
<span class="nb">sudo </span>apt-get <span class="nb">install </span>qemu-kvm
</code></pre></div></div>

<h4 id="debian">Debian</h4>

<h5 id="for-debian-stretch-or-later">For Debian Stretch or later</h5>

<p>The dependencies listed in our docker files <a href="https://github.com/seL4/seL4-CAmkES-L4v-dockerfiles">repository</a> will work for a Debian installation. You can refer to this repository for an up-to-date list of base build dependencies. Specifically refer to the dependencies listed in the:</p>

<ul>
  <li><a href="https://github.com/seL4/seL4-CAmkES-L4v-dockerfiles/blob/master/camkes.dockerfile">CAmkES Dockerfile</a></li>
</ul>

<!--
     Copyright 2022, Proofcraft Pty Ltd
     Copyright 2020, Data61, CSIRO (ABN 41 687 119 230)

     SPDX-License-Identifier: CC-BY-SA-4.0
-->

<!-- This file is also included on https://docs.sel4.systems/projects/buildsystem/host-dependencies.html  -->

<h1 id="proof-and-isabelle-dependencies">Proof and Isabelle Dependencies</h1>

<h2 id="proof-dependencies">Proof Dependencies</h2>

<h3 id="linux-packages---debian">Linux Packages - Debian</h3>

<p>On <strong>Buster</strong> or <strong>Bullseye</strong>, to run all proofs against the
<strong>ARMv7-A</strong> architecture you will need to install the following packages:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install</span> <span class="se">\</span>
    python3 python3-pip python3-dev <span class="se">\</span>
    gcc-arm-none-eabi build-essential libxml2-utils ccache <span class="se">\</span>
    ncurses-dev librsvg2-bin device-tree-compiler cmake <span class="se">\</span>
    ninja-build curl zlib1g-dev texlive-fonts-recommended <span class="se">\</span>
    texlive-latex-extra texlive-metapost texlive-bibtex-extra <span class="se">\</span>
    rsync
</code></pre></div></div>

<p>There is no package for the MLton compiler on Buster or Bullseye, so you will
need to install it from the <a href="http://www.mlton.org">MLton website</a>.</p>

<p>The Haskell Stack package is unavailable on Bullseye and out-of-date on Buster,
so you will need to install it from the <a href="https://docs.haskellstack.org/en/stable/">Haskell Stack
website</a>.</p>

<h3 id="linux-packages---ubuntu">Linux Packages - Ubuntu</h3>

<p>These instructions are intended for Ubuntu LTS versions 18.04, 20.04, and 22.04.</p>

<p>To run all proofs against the <strong>ARMv7-A</strong> architecture you will need to install
the following packages:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install</span> <span class="se">\</span>
    python3 python3-pip python3-dev <span class="se">\</span>
    gcc-arm-none-eabi build-essential libxml2-utils ccache <span class="se">\</span>
    ncurses-dev librsvg2-bin device-tree-compiler cmake <span class="se">\</span>
    ninja-build curl zlib1g-dev texlive-fonts-recommended <span class="se">\</span>
    texlive-latex-extra texlive-metapost texlive-bibtex-extra <span class="se">\</span>
    mlton-compiler haskell-stack
</code></pre></div></div>

<h3 id="macos-packages">macOS packages</h3>

<p>These instructions use Homebrew, which can be installed from <a href="https://brew.sh">their website</a>.
The main packages that are needed are:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install git libxml2 ncurses librsvg dtc cmake ninja texlive rysnc python ccache \
    zstd haskell-stack
</code></pre></div></div>

<p>The installation of mlton on Apple silicon is currently not well supported. One
approach would be to cross-compile mlton on another architecture and transfer it. On
Intel machines, the following works:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install mlton
</code></pre></div></div>

<p>To install the cross-compilers, run</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install --cask gcc-arm-embedded

brew install arm-none-eabi-gcc

brew tap messense/macos-cross-toolchains
brew install x86_64-unknown-linux-gnu aarch64-unknown-linux-gnu

brew tap riscv/riscv
brew install riscv-tools
</code></pre></div></div>

<p>Note that CMake will require the x86 compiler before it can be invoked.</p>

<p>The instructions in the sections below should apply for both Linux and macOS.</p>

<h3 id="python">Python</h3>

<p>The build system for the seL4 kernel requires several python packages:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip3 <span class="nb">install</span> <span class="nt">--user</span> <span class="nt">--upgrade</span> pip
pip3 <span class="nb">install</span> <span class="nt">--user</span> sel4-deps
</code></pre></div></div>

<h3 id="haskell-stack">Haskell Stack</h3>

<p>After installing
<a href="https://docs.haskellstack.org/en/stable/">haskell-stack</a>, make sure
you’ve adjusted your <code class="highlighter-rouge">PATH</code> to include <code class="highlighter-rouge">$HOME/.local/bin</code>, and that you’re
running an up-to-date version:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>stack upgrade <span class="nt">--binary-only</span>
which stack <span class="c"># should be $HOME/.local/bin/stack</span>
</code></pre></div></div>

<h2 id="isabelle-setup">Isabelle Setup</h2>

<p>After the repository is set up using <code class="highlighter-rouge">repo</code> with
<code class="highlighter-rouge">seL4/verification-manifest</code>, you should have following directory
structure, where <code class="highlighter-rouge">l4v</code> is the repository you are currently looking at:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>verification/
    HOL4/
    graph-refine/
    isabelle/
    l4v/
    seL4/
</code></pre></div></div>

<p>To set up Isabelle for use in <code class="highlighter-rouge">l4v/</code>, assuming you have no previous
installation of Isabelle, run the following commands in the directory
<code class="highlighter-rouge">verification/l4v/</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nt">-p</span> ~/.isabelle/etc
<span class="nb">cp</span> <span class="nt">-i</span> misc/etc/settings ~/.isabelle/etc/settings
./isabelle/bin/isabelle components <span class="nt">-a</span>
./isabelle/bin/isabelle jedit <span class="nt">-bf</span>
./isabelle/bin/isabelle build <span class="nt">-bv</span> HOL
</code></pre></div></div>

<p>These commands perform the following steps:</p>

<ul>
  <li>create an Isabelle user settings directory.</li>
  <li>install L4.verified Isabelle settings.
These settings initialise the Isabelle installation to use the standard
Isabelle <code class="highlighter-rouge">contrib</code> tools from the Munich Isabelle repository and set up
paths such that multiple Isabelle repository installations can be used
side by side without interfering with each other.</li>
  <li>download <code class="highlighter-rouge">contrib</code> components from the Isabelle repository. This includes
Scala, a Java JDK, PolyML, and multiple external provers. You should
download these, even if you have these tools previously installed
elsewhere to make sure you have the right versions. Depending on your
internet connection, this may take some time.</li>
  <li>compile and build the Isabelle PIDE jEdit interface.</li>
  <li>build basic Isabelle images to ensure that
the installation works. This may take a few minutes.</li>
</ul>

<p>Alternatively, it is possible to use the official Isabelle2021 release
bundle for your platform from the <a href="http://isabelle.in.tum.de">Isabelle website</a>. In this case, the
installation steps above can be skipped, and you would replace the directory
<code class="highlighter-rouge">verification/isabelle/</code> with a symbolic link to the Isabelle home directory
of the release version. Note that this is not recommended for development,
since Google repo will overwrite this link when you synchronise repositories
and Isabelle upgrades will have to be performed manually as development
progresses.</p>

<h2 id="pide-tools">PIDE Tools</h2>

<p>The following tools and tips can make writing proofs easier and more efficient
when using the Isabelle PIDE jEdit interface.</p>

<h3 id="whitespace-plugin">WhiteSpace plugin</h3>

<p>The WhiteSpace plugin can highlight normally invisible whitespace characters
such as tabs and spaces, and can remove trailing whitespace on save. To
install and configure the WhiteSpace plug-in for jEdit, follow
the instructions below.</p>

<ol>
  <li>Go to Plugins -&gt; Plugin manager -&gt; Install.</li>
  <li>Search for <code class="highlighter-rouge">WhiteSpace</code> and install the plugin.</li>
  <li>Go to Plugins -&gt; Plugin Options -&gt; WhiteSpace -&gt; On save actions.</li>
  <li>Check “Remove trailing whitespace” and click Apply.</li>
</ol>

<h3 id="key-bindings-for-navigator">Key bindings for Navigator</h3>

<p>The Isabelle PIDE provides “Back” and “Forward” actions that allow you to
easily navigate to previous positions in your edit history. Follow the steps
below to bind a key to the “Back” function. We recommend <code class="highlighter-rouge">[ctrl]+[`]</code>.</p>

<ol>
  <li>Go to Utilities -&gt; Global Options -&gt; jEdit -&gt; Shortcuts.</li>
  <li>Select Action Set -&gt; Plugin: Navigator.</li>
  <li>Set a shortcut for <code class="highlighter-rouge">Back</code>.</li>
</ol>

<h3 id="go-to-error-macro">Go-to-error macro</h3>

<p>Run the following commands in the directory <code class="highlighter-rouge">verification/l4v/</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir -p ~/.isabelle/jedit/macros
cp misc/jedit/macros/goto-error.bsh ~/.isabelle/jedit/macros/.
</code></pre></div></div>

<p>You can add keybindings for this macro in the usual way, by going to
Utilities -&gt; Global Options -&gt; jEdit -&gt; Shortcuts.</p>


  </div>







  
    
<div class="sidebar-toc hidden-xs hidden-sm col-md-3 col-lg-3">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#get-googles-repo-tool">Get Google’s Repo tool</a></li>
<li class="toc-entry toc-h2"><a href="#sel4-build-dependencies">seL4 Build Dependencies</a>
<ul>
<li class="toc-entry toc-h3"><a href="#base-build-dependencies">Base Build Dependencies</a>
<ul>
<li class="toc-entry toc-h4"><a href="#ubuntu">Ubuntu</a></li>
<li class="toc-entry toc-h4"><a href="#debian">Debian</a>
<ul>
<li class="toc-entry toc-h5"><a href="#for-debian-stretch-or-later">For Debian Stretch or later</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#python-dependencies">Python Dependencies</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#camkes-build-dependencies">CAmkES Build Dependencies</a>
<ul>
<li class="toc-entry toc-h3"><a href="#python-dependencies-1">Python Dependencies</a></li>
<li class="toc-entry toc-h3"><a href="#haskell-dependencies">Haskell Dependencies</a></li>
<li class="toc-entry toc-h3"><a href="#build-dependencies">Build Dependencies</a>
<ul>
<li class="toc-entry toc-h4"><a href="#ubuntu-1">Ubuntu</a></li>
<li class="toc-entry toc-h4"><a href="#debian-1">Debian</a>
<ul>
<li class="toc-entry toc-h5"><a href="#for-debian-stretch-or-later-1">For Debian Stretch or later</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#proof-dependencies">Proof Dependencies</a>
<ul>
<li class="toc-entry toc-h3"><a href="#linux-packages---debian">Linux Packages - Debian</a></li>
<li class="toc-entry toc-h3"><a href="#linux-packages---ubuntu">Linux Packages - Ubuntu</a></li>
<li class="toc-entry toc-h3"><a href="#macos-packages">macOS packages</a></li>
<li class="toc-entry toc-h3"><a href="#python">Python</a></li>
<li class="toc-entry toc-h3"><a href="#haskell-stack">Haskell Stack</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#isabelle-setup">Isabelle Setup</a></li>
<li class="toc-entry toc-h2"><a href="#pide-tools">PIDE Tools</a>
<ul>
<li class="toc-entry toc-h3"><a href="#whitespace-plugin">WhiteSpace plugin</a></li>
<li class="toc-entry toc-h3"><a href="#key-bindings-for-navigator">Key bindings for Navigator</a></li>
<li class="toc-entry toc-h3"><a href="#go-to-error-macro">Go-to-error macro</a></li>
</ul>
</li>
</ul>
</div>

  
  
<div class="sidebar-toc hidden-xs hidden-sm col-md-3 col-lg-3">
  
    <ul class="section-nav">
    	<h2> seL4 Buildsystem </h2> 
        <li>
          
          <a style="" class="" href="/projects/buildsystem/">
            Documentation homepage
          </a>
        </li>

















    
        <h3>Repositories</h3>
    
        <li>
          <a class="" href="https://github.com/sel4/sel4">
            sel4
          </a>
        </li>

    
        <li>
          <a class="" href="https://github.com/sel4/sel4_tools">
            sel4_tools
          </a>
        </li>









  





    
        <h3>Recent Updates</h3>
    
        <li>
          <a style="" href="/updates/buildsystem/11.0.x.html">
            seL4 11.0.x-compatible
          </a>
        </li>

    </ul>

</div>


</div>

    </main>
    


<footer class="site-footer">

  <h2 class="footer-heading">seL4 docs</h2>

  <div class="footer-col-wrapper">

    <div class="col-md-2">
      



<ul class="social-media-list">
  <li><a href="https://github.com/sel4"><i class="fab fa-github"></i> <span class="username">sel4</span></a></li><li><a href="https://github.com/sel4proj"><i class="fab fa-github"></i> <span class="username">sel4proj</span></a></li>
</ul>

    </div>

    <div class="col-md-8">
      <ul class="list-unstyled">
        <li>
          This site is for displaying seL4 related documentation.  Pull requests are welcome.
        </li>
        
          <li>
            Site last updated: Wed Feb 8 08:50:28 2023 +1100 9847c4a
          </li>
          <li>
                Page last updated: Wed Feb 8 08:50:28 2023 +1100 9847c4a
          </li>
        
      </ul>
    </div>
    <div class="col-md-2">
<a href="https://github.com/seL4/docs/blob/master/projects/buildsystem/host-dependencies.md">View page on GitHub</a>
      <br />
      <a href="https://github.com/seL4/docs/edit/master/projects/buildsystem/host-dependencies.md">Edit page on GitHub</a>
      <br />
      <a href="/sitemap">Sitemap</a>
    </div>

  </div>

</footer>

  </body>
</html>
